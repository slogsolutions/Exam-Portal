<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TestZen Exam Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #6e9cd2;
            --success-color: #4caf50;
            --danger-color: #f44336;
            --warning-color: #ff9800;
            --info-color: #2196f3;
            --light-bg: #f5f7fa;
            --dark-bg: #1a2236;
            --light-text: #333;
            --dark-text: #f5f5f5;
            --light-card: #fff;
            --dark-card: #243447;
            --light-border: #ddd;
            --dark-border: #34495e;
            --transition: all 0.3s ease;
        }

        .dark-mode {
            --bg-color: var(--dark-bg);
            --text-color: var(--dark-text);
            --card-bg: var(--dark-card);
            --border-color: var(--dark-border);
        }

        .light-mode {
            --bg-color: var(--light-bg);
            --text-color: var(--light-text);
            --card-bg: var(--light-card);
            --border-color: var(--light-border);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: var(--transition);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            display: grid;
            grid-template-columns: 250px 1fr;
            min-height: 100vh;
        }

        /* Header Styles */
        header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .user-profile {
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: white;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .profile-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: var(--card-bg);
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            width: 200px;
            padding: 0.5rem 0;
            z-index: 100;
            display: none;
        }

        .profile-dropdown.show {
            display: block;
        }

        .profile-dropdown div {
            padding: 0.75rem 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .profile-dropdown div:hover {
            background-color: var(--secondary-color);
            color: white;
        }

        /* Sidebar Styles */
        .sidebar {
            background-color: var(--card-bg);
            padding: 1.5rem 1rem;
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
        }

        .category {
            margin-bottom: 1.5rem;
        }

        .category-title {
            font-weight: bold;
            margin-bottom: 0.75rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .question-list {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
        }

        .question-number {
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            background-color: var(--bg-color);
            border: 1px solid var(--border-color);
            cursor: pointer;
            font-size: 0.9rem;
        }

        .question-number.attempted {
            background-color: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }

        .question-number.current {
            border: 2px solid var(--primary-color);
            font-weight: bold;
        }

        .question-number.marked {
            background-color: var(--warning-color);
            color: white;
            border-color: var(--warning-color);
        }

        /* Main Content Styles */
        .main-content {
            padding: 2rem;
            overflow-y: auto;
        }

        .exam-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .timer {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            padding: 0.5rem 1rem;
            border: 2px solid var(--primary-color);
            border-radius: 5px;
        }

        .timer.warning {
            color: var(--warning-color);
            border-color: var(--warning-color);
        }

        .timer.danger {
            color: var(--danger-color);
            border-color: var(--danger-color);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .question-container {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .question-type {
            color: var(--primary-color);
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
        }

        .options-container {
            margin-bottom: 1.5rem;
        }

        .option {
            display: flex;
            align-items: center;
            margin-bottom: 0.75rem;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            cursor: pointer;
        }

        .option:hover {
            background-color: var(--bg-color);
        }

        .option input {
            margin-right: 10px;
        }

        .text-answer {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            resize: vertical;
            min-height: 100px;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .fill-blank-input {
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0 5px;
            width: 200px;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background-color: var(--bg-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Review Page Styles */
        .review-page {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .review-page h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .review-stats {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .progress-bar {
            height: 10px;
            background-color: var(--bg-color);
            border-radius: 5px;
            margin: 2rem 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--success-color);
            border-radius: 5px;
        }

        /* Loading Spinner */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Error message */
        .error-message {
            background-color: #ffebee;
            color: #c62828;
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            text-align: center;
        }

        /* Success message */
        .success-message {
            background-color: #e8f5e9;
            color: #2e7d32;
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            text-align: center;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
            
            .exam-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body class="light-mode">
    <div class="container">
        <header>
            <div class="logo">TestZen</div>
            <div class="user-profile" onclick="toggleDropdown()">
                <div class="user-avatar" id="user-avatar">JD</div>
                <span id="user-name">John Doe</span>
                <i class="fas fa-chevron-down"></i>
                <div class="profile-dropdown">
                    <div onclick="showProfile()"><i class="fas fa-user"></i> Profile</div>
                    <div onclick="toggleTheme()"><i class="fas fa-moon"></i> Dark Mode</div>
                    <div onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</div>
                </div>
            </div>
        </header>

        <aside class="sidebar">
            <div class="category">
                <div class="category-title">
                    <i class="fas fa-globe"></i>
                    Part A (General)
                </div>
                <div class="question-list" id="part-a-questions">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <div class="category">
                <div class="category-title">
                    <i class="fas fa-building"></i>
                    Part B (Departmental)
                </div>
                <div class="question-list" id="part-b-questions">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div class="exam-header">
                <div>
                    <h2 id="question-header">Question 1 of 10</h2>
                    <p id="question-category">Part A (General) - Multiple Choice</p>
                </div>
                <div class="center-info" id="center-info">
                    Center: Main Testing Center
                </div>
                <div class="timer" id="timer">45:00</div>
            </div>

            <div class="question-container" id="question-container">
                <div class="question-type">Multiple Choice Question</div>
                <div class="question-text">What is the capital of France?</div>
                
                <div class="options-container">
                    <div class="option">
                        <input type="radio" name="answer" id="option1" value="London">
                        <label for="option1">London</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="answer" id="option2" value="Berlin">
                        <label for="option2">Berlin</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="answer" id="option3" value="Paris">
                        <label for="option3">Paris</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="answer" id="option4" value="Madrid">
                        <label for="option4">Madrid</label>
                    </div>
                </div>
                
                <div class="navigation-buttons">
                    <button class="btn btn-secondary" onclick="navigateQuestion('prev')" disabled>
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" onclick="navigateQuestion('next')">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <div class="navigation-buttons">
                <button class="btn btn-secondary" onclick="markForReview()">
                    <i class="fas fa-flag"></i> Mark for Review
                </button>
                <button class="btn btn-success" onclick="submitExam()">
                    <i class="fas fa-paper-plane"></i> Submit Exam
                </button>
            </div>
        </main>

        <div class="review-page" id="reviewPage">
            <h2>Exam Completed!</h2>
            <div class="review-stats">
                <p>You have successfully completed the exam.</p>
                <p>Total Questions: <strong id="total-questions">10</strong></p>
                <p>Attempted: <strong id="attempted-questions">7</strong></p>
                <p>Not Attempted: <strong id="not-attempted">3</strong></p>
            </div>
            
            <div class="progress-bar">
                <div class="progress" id="progress-bar" style="width: 70%;"></div>
            </div>
            
            <p>Your responses have been saved successfully.</p>
            
            <div class="navigation-buttons" style="justify-content: center;">
                <button class="btn btn-primary" onclick="saveAndReturn()">
                    <i class="fas fa-check"></i> OK
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentQuestion = 1;
        let totalQuestions = 10;
        let questions = [
            { id: 1, db_id: 101, part: 'A', type: 'A', text: 'What is the capital of France?', 
              options: { choices: ['London', 'Berlin', 'Paris', 'Madrid'] }, marks: 1, paper_type: 'common' },
            { id: 2, db_id: 102, part: 'A', type: 'B', text: 'The Earth is flat.', 
              options: { choices: ['True', 'False'] }, marks: 1, paper_type: 'common' },
            { id: 3, db_id: 103, part: 'A', type: 'C', text: 'The process of photosynthesis converts ______ into energy.', 
              options: {}, marks: 1, paper_type: 'common' },
            { id: 4, db_id: 104, part: 'A', type: 'D', text: 'Explain the importance of renewable energy in 50 words.', 
              options: {}, marks: 2, paper_type: 'common' },
            { id: 5, db_id: 105, part: 'A', type: 'E', text: 'Discuss the impact of climate change on biodiversity in 100-120 words.', 
              options: {}, marks: 5, paper_type: 'common' },
            { id: 6, db_id: 201, part: 'B', type: 'A', text: 'What is the primary function of a router?', 
              options: { choices: ['To connect multiple networks', 'To provide wireless access', 'To store data', 'To process requests'] }, marks: 1, paper_type: 'primary' },
            { id: 7, db_id: 202, part: 'B', type: 'B', text: 'HTML is a programming language.', 
              options: { choices: ['True', 'False'] }, marks: 1, paper_type: 'primary' },
            { id: 8, db_id: 203, part: 'B', type: 'C', text: 'In networking, DNS stands for ______.', 
              options: {}, marks: 1, paper_type: 'primary' },
            { id: 9, db_id: 204, part: 'B', type: 'D', text: 'Explain the concept of object-oriented programming in 50 words.', 
              options: {}, marks: 2, paper_type: 'primary' },
            { id: 10, db_id: 205, part: 'B', type: 'E', text: 'Discuss the importance of cybersecurity measures in modern organizations in 100-120 words.', 
              options: {}, marks: 5, paper_type: 'primary' }
        ];
        let userAnswers = {};
        let markedQuestions = new Set();
        let timerInterval;
        let timeLeft = 45 * 60; // 45 minutes in seconds

        // Initialize the exam
        document.addEventListener('DOMContentLoaded', function() {
            initializeExam();
        });

        // Initialize exam data
        function initializeExam() {
            updateQuestionNavigation();
            loadQuestion(currentQuestion);
            startTimer();
        }

        // Update question navigation sidebar
        function updateQuestionNavigation() {
            const partAContainer = document.getElementById('part-a-questions');
            const partBContainer = document.getElementById('part-b-questions');
            
            partAContainer.innerHTML = '';
            partBContainer.innerHTML = '';
            
            questions.forEach(question => {
                const questionElement = document.createElement('div');
                questionElement.className = 'question-number';
                questionElement.textContent = question.id;
                questionElement.setAttribute('data-id', question.id);
                questionElement.setAttribute('data-db-id', question.db_id);
                
                // Check if this question has been answered
                if (userAnswers[question.db_id] && 
                   (userAnswers[question.db_id].given || userAnswers[question.db_id].text_answer)) {
                    questionElement.classList.add('attempted');
                }
                
                // Check if marked for review
                if (markedQuestions.has(question.id)) {
                    questionElement.classList.add('marked');
                }
                
                if (question.id === currentQuestion) {
                    questionElement.classList.add('current');
                }
                
                questionElement.addEventListener('click', () => {
                    loadQuestion(question.id);
                });
                
                if (question.part === 'A') {
                    partAContainer.appendChild(questionElement);
                } else {
                    partBContainer.appendChild(questionElement);
                }
            });
        }

        // Load a specific question
        function loadQuestion(questionId) {
            currentQuestion = questionId;
            const question = questions.find(q => q.id === questionId);
            
            if (!question) {
                document.getElementById('question-container').innerHTML = `
                    <div class="question-text">Question not found.</div>
                `;
                return;
            }
            
            // Update header
            document.getElementById('question-header').textContent = `Question ${questionId} of ${totalQuestions}`;
            
            let categoryText = `Part ${question.part} (${question.part === 'A' ? 'General' : 'Departmental'}) - `;
            
            switch(question.type) {
                case 'A': categoryText += 'Multiple Choice'; break;
                case 'B': categoryText += 'True/False'; break;
                case 'C': categoryText += 'Fill in the Blanks'; break;
                case 'D': categoryText += 'Short Answer (50 words)'; break;
                case 'E': categoryText += 'Long Answer (100-120 words)'; break;
                default: categoryText += 'Unknown Type';
            }
            
            document.getElementById('question-category').textContent = categoryText;
            
            // Update question container
            const questionContainer = document.getElementById('question-container');
            
            const questionType = document.createElement('div');
            questionType.className = 'question-type';
            
            switch(question.type) {
                case 'A': questionType.textContent = 'Multiple Choice Question'; break;
                case 'B': questionType.textContent = 'True/False Question'; break;
                case 'C': questionType.textContent = 'Fill in the Blanks'; break;
                case 'D': questionType.textContent = 'Short Answer Question (50 words)'; break;
                case 'E': questionType.textContent = 'Long Answer Question (100-120 words)'; break;
                default: questionType.textContent = 'Unknown Question Type';
            }
            
            const questionText = document.createElement('div');
            questionText.className = 'question-text';
            questionText.textContent = question.text;
            
            questionContainer.innerHTML = '';
            questionContainer.appendChild(questionType);
            questionContainer.appendChild(questionText);
            
            // Get existing answer if any
            const existingAnswer = userAnswers[question.db_id] || {};
            
            // Add answer options based on question type
            if (question.type === 'A' || question.type === 'B') {
                const optionsContainer = document.createElement('div');
                optionsContainer.className = 'options-container';
                
                if (question.options && question.options.choices) {
                    question.options.choices.forEach((option, index) => {
                        const optionElement = document.createElement('div');
                        optionElement.className = 'option';
                        
                        const input = document.createElement('input');
                        input.type = 'radio';
                        input.name = 'answer';
                        input.value = question.type === 'B' ? (index === 0 ? 'true' : 'false') : option;
                        input.id = `option${index+1}`;
                        
                        if (existingAnswer && existingAnswer.given === input.value) {
                            input.checked = true;
                        }
                        
                        input.addEventListener('change', () => {
                            userAnswers[question.db_id] = {given: input.value, text_answer: ''};
                            updateQuestionNavigation();
                            simulateSaveAnswer(question.db_id, input.value, '');
                        });
                        
                        const label = document.createElement('label');
                        label.htmlFor = `option${index+1}`;
                        label.textContent = option;
                        
                        optionElement.appendChild(input);
                        optionElement.appendChild(label);
                        optionsContainer.appendChild(optionElement);
                    });
                }
                
                questionContainer.appendChild(optionsContainer);
            } else if (question.type === 'C') {
                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'fill-blank-input';
                input.value = existingAnswer ? existingAnswer.given || '' : '';
                input.placeholder = 'Enter your answer here';
                
                input.addEventListener('change', () => {
                    userAnswers[question.db_id] = {given: input.value, text_answer: ''};
                    updateQuestionNavigation();
                    simulateSaveAnswer(question.db_id, input.value, '');
                });
                
                questionContainer.appendChild(input);
            } else if (question.type === 'D' || question.type === 'E') {
                const textarea = document.createElement('textarea');
                textarea.className = 'text-answer';
                textarea.placeholder = question.type === 'D' ? 'Write your answer in about 50 words' : 'Write your answer in 100-120 words';
                textarea.value = existingAnswer ? existingAnswer.text_answer || '' : '';
                
                textarea.addEventListener('change', () => {
                    userAnswers[question.db_id] = {given: '', text_answer: textarea.value};
                    updateQuestionNavigation();
                    simulateSaveAnswer(question.db_id, '', textarea.value);
                });
                
                questionContainer.appendChild(textarea);
            }
            
            // Add navigation buttons
            const navButtons = document.createElement('div');
            navButtons.className = 'navigation-buttons';
            
            const prevButton = document.createElement('button');
            prevButton.className = 'btn btn-secondary';
            prevButton.innerHTML = '<i class="fas fa-arrow-left"></i> Previous';
            prevButton.addEventListener('click', () => {
                if (currentQuestion > 1) loadQuestion(currentQuestion - 1);
            });
            
            if (currentQuestion === 1) {
                prevButton.disabled = true;
                prevButton.style.opacity = '0.5';
            }
            
            const nextButton = document.createElement('button');
            nextButton.className = 'btn btn-primary';
            nextButton.innerHTML = 'Next <i class="fas fa-arrow-right"></i>';
            nextButton.addEventListener('click', () => {
                if (currentQuestion < totalQuestions) loadQuestion(currentQuestion + 1);
            });
            
            if (currentQuestion === totalQuestions) {
                nextButton.disabled = true;
                nextButton.style.opacity = '0.5';
            }
            
            navButtons.appendChild(prevButton);
            navButtons.appendChild(nextButton);
            questionContainer.appendChild(navButtons);
            
            // Update navigation highlights
            updateQuestionNavigation();
        }

        // Navigate between questions
        function navigateQuestion(direction) {
            if (direction === 'prev' && currentQuestion > 1) {
                loadQuestion(currentQuestion - 1);
            } else if (direction === 'next' && currentQuestion < totalQuestions) {
                loadQuestion(currentQuestion + 1);
            }
        }

        // Simulate saving answer to backend
        function simulateSaveAnswer(questionId, answer, textAnswer) {
            console.log(`Saving answer for question ${questionId}:`, answer, textAnswer);
            // In a real implementation, this would make an AJAX call to the server
        }

        // Timer functionality
        function startTimer() {
            const timerElement = document.getElementById('timer');
            
            function updateTimer() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Change color when time is running out
                if (timeLeft <= 300) { // 5 minutes
                    timerElement.classList.add('danger');
                } else if (timeLeft <= 600) { // 10 minutes
                    timerElement.classList.add('warning');
                }
                
                if (timeLeft > 0) {
                    timeLeft--;
                } else {
                    clearInterval(timerInterval);
                    submitExam();
                }
            }
            
            timerInterval = setInterval(updateTimer, 1000);
            updateTimer(); // Initial call
        }

        // Mark question for review
        function markForReview() {
            markedQuestions.add(currentQuestion);
            updateQuestionNavigation();
            alert(`Question ${currentQuestion} marked for review`);
        }

        // Submit the exam
        function submitExam() {
            if (!confirm('Are you sure you want to submit the exam? You cannot change your answers after submission.')) {
                return;
            }
            
            clearInterval(timerInterval);
            
            // Calculate stats
            const attempted = Object.keys(userAnswers).filter(
                key => userAnswers[key] && (userAnswers[key].given || userAnswers[key].text_answer)
            ).length;
            const notAttempted = totalQuestions - attempted;
            const percentage = (attempted / totalQuestions) * 100;
            
            // Update review page
            document.getElementById('total-questions').textContent = totalQuestions;
            document.getElementById('attempted-questions').textContent = attempted;
            document.getElementById('not-attempted').textContent = notAttempted;
            document.getElementById('progress-bar').style.width = `${percentage}%`;
            
            // Show review page, hide main content
            document.querySelector('.main-content').style.display = 'none';
            document.getElementById('reviewPage').style.display = 'block';
            
            // Simulate submitting to server
            console.log('Submitting exam with answers:', userAnswers);
        }

        // Save results and return to dashboard
        function saveAndReturn() {
            alert('Exam submitted successfully! Returning to dashboard.');
            // In a real implementation, this would redirect to the dashboard
        }

        // Show user profile
        function showProfile() {
            alert('User Profile:\nName: John Doe\nArmy No: 123456\nRank: Sergeant\nTrade: Information Technology\nCategory: Technical');
        }

        // Toggle profile dropdown
        function toggleDropdown() {
            const dropdown = document.querySelector('.profile-dropdown');
            dropdown.classList.toggle('show');
        }
        
        // Toggle theme
        function toggleTheme() {
            const body = document.body;
            if (body.classList.contains('light-mode')) {
                body.classList.remove('light-mode');
                body.classList.add('dark-mode');
                localStorage.setItem('theme', 'dark');
            } else {
                body.classList.remove('dark-mode');
                body.classList.add('light-mode');
                localStorage.setItem('theme', 'light');
            }
        }
        
        // Logout
        function logout() {
            if (confirm('Are you sure you want to logout? Your progress will be saved.')) {
                alert('Logging out...');
                // In a real implementation, this would redirect to logout URL
            }
        }
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.classList.remove('light-mode');
            document.body.classList.add('dark-mode');
        }
    </script>
</body>
</html>